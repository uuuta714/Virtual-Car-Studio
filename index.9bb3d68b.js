!function(e,t,n,o,i){var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r="function"==typeof s[o]&&s[o],l=r.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(t,n){if(!l[t]){if(!e[t]){var i="function"==typeof s[o]&&s[o];if(!n&&i)return i(t,!0);if(r)return r(t,!0);if(d&&"string"==typeof t)return d(t);var a=Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}p.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},p.cache={};var c=l[t]=new u.Module(t);e[t][0].call(c.exports,p,c,c.exports,this)}return l[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=l,u.parent=r,u.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(u,"root",{get:function(){return s[o]}}),s[o]=u;for(var a=0;a<t.length;a++)u(t[a]);if(n){var c=u(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define(function(){return c})}}({"7w0Le":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"updateStudioLightDropdown",()=>l);var i=e("three"),s=e("./scripts.js");document.getElementById("applyIntensityButton").addEventListener("click",function(){(function(e){if((0,s.modelGroups)[e].name.startsWith("studio_light")){let t=parseFloat(document.getElementById("intensityInput").value);(0,s.modelGroups)[e].traverse(e=>{if(e.isMesh&&"Object_7"==e.name){let n=e.children[0];isNaN(t)||(n.intensity=t)}})}})(parseInt(document.getElementById("lightInstanceDropdown").value))}),document.getElementById("applyColorButton").addEventListener("click",function(){(function(e){if((0,s.modelGroups)[e].name.startsWith("studio_light")){let t=document.getElementById("colorPicker"),n=new i.Color(t.value);(0,s.modelGroups)[e].traverse(e=>{e.isMesh&&"Object_7"==e.name&&(e.children[0].color=n,console.log("found"),e.material.emissive.set(n))})}})(parseInt(document.getElementById("lightInstanceDropdown").value))}),document.getElementById("deleteLightButton").addEventListener("click",function(){var e;e=parseInt(document.getElementById("lightInstanceDropdown").value),(0,s.modelGroups)[e].name.startsWith("studio_light")&&((0,s.scene).remove(s.modelGroups[e]),(0,s.modelGroups).splice(e,1),(0,s.sceneMeshes).splice(e,1),(0,s.boxHelpers).splice(e,1),(0,s.modelDragBoxes).splice(e,1),(0,s.setSelectedIndex)(0)),l()}),document.getElementById("addLightButton").addEventListener("click",function(){let e=parseInt(document.getElementById("lightInstanceDropdown").value);console.log(e),(0,s.setSelectedIndex)(e),console.log(s.selectedIndex),function(){let e;(e=(0,s.modelGroups)[0,s.selectedIndex].name.startsWith("studio_light")?s.modelGroups[s.selectedIndex]:(0,s.modelGroups).find(e=>e.name.startsWith("studio_light"))).rotation.set(0,0,0);let t=e.clone(!0);t.traverse(e=>{e.isMesh&&(e.material=e.material.clone())}),t.name="studio_light "+r++,t.position.set(1,0,-5),(0,s.scene).add(t);let n=new i.Box3().setFromObject(t),o=new i.Vector3;n.getSize(o);let l=new i.Mesh(new i.BoxGeometry(o.x,o.y,o.z),new i.MeshBasicMaterial({transparent:!0,opacity:0}));l.position.copy(t.position),l.userData.originalY=l.position.y+=o.y/2,(0,s.scene).add(l);let d=new i.BoxHelper(l,16776960);d.visible=!1,(0,s.scene).add(d),(0,s.modelGroups).push(t),(0,s.sceneMeshes).push(l),(0,s.modelDragBoxes).push(l),(0,s.boxHelpers).push(d)}(),l()});let r=1;function l(){let e=document.getElementById("lightInstanceDropdown");e.innerHTML='<option value="">Select a Light Instance</option>',(0,s.modelGroups).forEach((t,n)=>{if(t.name.startsWith("studio_light")){let o=document.createElement("option");o.value=n,o.textContent=t.name,e.appendChild(o)}})}},{three:"35GVu","./scripts.js":"f5JPT","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["7w0Le"],"7w0Le","parcelRequire6fcf");
//# sourceMappingURL=index.9bb3d68b.js.map

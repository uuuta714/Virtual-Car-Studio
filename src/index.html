<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtual Car Studio</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <button id="openButton">Lighting control</button> 
    <div id="rightSlideout">
		<div id="rightSlideoutContent">
			<p>Instruction</p>
            <p>Mouse Click: select or drop object</p>
            <p>ESC: deselect object</p>
            <p>Arrow Key: move object</p>
            <p>L: rotate object anti-clockwise</p>
			<button id="addLightButton">Add Light Instance</button>
            <button id = "deleteLightButton">Delete Light Instance</button>
            <p></p>
			<div>
                <p>Select an object to adjust</p>
                <select id="objectSelector">
                    <option value="">Select a light object</option>
                </select>
            </div>
                <div>
                    <label for="intensityInput">Intensity:</label>
                    <input type="number" id="intensityInput" min="0" step="0.01">
                    <button id="applyIntensityButton">Apply</button>                    
                </div>
			<div>
				<label for="colorPicker">Color:</label>
				<input type="color" id="colorPicker" value="#ffffff">
				<button id="applyColorButton">Apply</button>
			</div>
            <button id="closeButton">Close</button>

		</div>
	</div>

    <a href="#" id="open-slideout">&lt;&lt;&lt;</a>
    <div id="slideout" class="slideout">
        <div class="slideout-header">
            <a href="#" id="close-slideout">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-x"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
            </a>
          <h3>Create Custom Video</h3>
        <label>Press 'r' for rotation control of custom camera</label><br>
        <label>Press 't' for translation control of custom camera</label>
        </div>
        <p>
            <!-- Create custom camera movement -->
            <h3>Create Custom Camera Movement</h3>

                <!-- Label and Input to set name of camera movement -->
                <label for="cameraMovementName">Name:</label>
                <input type="text" id="cameraMovementName" name="cameraMovementName"><br><br>

                <!-- Label and Input to set duration -->
                <label for="duration">Duration (sec):</label>
                <input type="number" id="duration" name="duration" min="1" max="10" step="0.1"><br><br>

                <h4>Start Position</h4>
                <!-- Button to set camera start position -->
                <button id="setStartPositionFromMainCamera">Get Position from Browser View</button>
                <button id="setStartPositionFromCustomCamera">Get Position from Custom Camera</button>
                <!-- Label and Input to show/edit camera start positions -->
                <h5>Camera Start Position</h5>
                <label for="cameraStartPositionX">X:</label>
                <input type="number" id="cameraStartPositionX" name="cameraStartPositionX"><br>
                <label for="cameraStartPositionY">Y:</label>
                <input type="number" id="cameraStartPositionY" name="cameraStartPositionY"><br>
                <label for="cameraStartPositionZ">Z:</label>
                <input type="number" id="cameraStartPositionZ" name="cameraStartPositionZ"><br>
                <h5>Camera Start LookAt Position</h5>
                <label for="cameraStartLookAtPositionX">X:</label>
                <input type="number" id="cameraStartLookAtPositionX" name="cameraStartLookAtPositionX"><br>
                <label for="cameraStartLookAtPositionY">Y:</label>
                <input type="number" id="cameraStartLookAtPositionY" name="cameraStartLookAtPositionY"><br>
                <label for="cameraStartLookAtPositionZ">Z:</label>
                <input type="number" id="cameraStartLookAtPositionZ" name="cameraStartLookAtPositionZ"><br>
                <br>

                <h4>End Position</h4>
                <!-- Button to set camera end position -->
                <button id="setEndPositionFromMainCamera">Get Position from Browser View</button>
                <button id="setEndPositionFromCustomCamera">Get Position from Custom Camera</button>
                <!-- Label and Input to show/edit camera end positions -->
                <h5>Camera End Position</h5>
                <label for="cameraEndPositionX">X:</label>
                <input type="number" id="cameraEndPositionX" name="cameraEndPositionX"><br>
                <label for="cameraEndPositionY">Y:</label>
                <input type="number" id="cameraEndPositionY" name="cameraEndPositionY"><br>
                <label for="cameraEndPositionZ">Z:</label>
                <input type="number" id="cameraEndPositionZ" name="cameraEndPositionZ"><br>
                <h5>Camera End LookAt Position</h5>
                <label for="cameraEndLookAtPositionX">X:</label>
                <input type="number" id="cameraEndLookAtPositionX" name="cameraEndLookAtPositionX"><br>
                <label for="cameraEndLookAtPositionY">Y:</label>
                <input type="number" id="cameraEndLookAtPositionY" name="cameraEndLookAtPositionY"><br>
                <label for="cameraEndLookAtPositionZ">Z:</label>
                <input type="number" id="cameraEndLookAtPositionZ" name="cameraEndLookAtPositionZ"><br>
                <br>

                <!-- Button to create camera movement -->
                <button id="createCameraMovement">Create Camera Movement</button>

            <!-- Set order of camera sequences -->
            <h3>Select Camera Sequence</h3>
                <select id="cameraSequenceDropdown">
                    <option value="">Select a Camera Sequence</option>
                    <!-- Options will be populated by JavaScript -->
                </select>
                <!-- Button to add selected camera sequence into the list -->
                <button id="addToSequenceButton">Add to Sequence</button>
                <!-- List of selected camera sequences -->
                <ul id="selectedSequenceList"></ul>
                <!-- Button to reset list of selected camera sequences -->
                <button id="resetSequenceButton">Reset Sequences</button><br>
                <!-- Button to start Preview -->
                <button id="start-preview">Preview</button>
                <!-- Button to start Recording -->
                <button id="start-recording">Record</button>

        </p>
    </div>
    <script src="./js/scripts.js" type="module"></script>
    <script src="./js/lighting.js" type="module"></script>
    <script src="./js/userInteractions.js" type="module"></script>
    <script src="/node_modules/webm-writer/WebMWriter.js"></script>
</body>
</html>
!function(e,t,n,o,i){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof l[o]&&l[o],r=s.cache||{},d="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function a(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof l[o]&&l[o];if(!n&&i)return i(t,!0);if(s)return s(t,!0);if(d&&"string"==typeof t)return d(t);var u=Error("Cannot find module '"+t+"'");throw u.code="MODULE_NOT_FOUND",u}p.resolve=function(n){var o=e[t][1][n];return null!=o?o:n},p.cache={};var c=r[t]=new a.Module(t);e[t][0].call(c.exports,p,c,c.exports,this)}return r[t].exports;function p(e){var t=p.resolve(e);return!1===t?{}:a(t)}}a.isParcelRequire=!0,a.Module=function(e){this.id=e,this.bundle=a,this.exports={}},a.modules=e,a.cache=r,a.parent=s,a.register=function(t,n){e[t]=[function(e,t){t.exports=n},{}]},Object.defineProperty(a,"root",{get:function(){return l[o]}}),l[o]=a;for(var u=0;u<t.length;u++)a(t[u]);if(n){var c=a(n);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd&&define(function(){return c})}}({"7w0Le":[function(e,t,n){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(n),o.export(n,"updateStudioLightDropdown",()=>r);var i=e("three"),l=e("./scripts.js");document.getElementById("applyIntensityButton").addEventListener("click",function(){(function(e){if((0,l.modelGroups)[e].name.startsWith("studio_light")){let t=parseFloat(document.getElementById("intensityInput").value);(0,l.modelGroups)[e].traverse(e=>{if(e.isMesh&&"Object_7"==e.name){let n=e.children[0];isNaN(t)||(n.intensity=t)}})}})(parseInt(document.getElementById("lightInstanceDropdown").value))}),document.getElementById("applyColorButton").addEventListener("click",function(){(function(e){if((0,l.modelGroups)[e].name.startsWith("studio_light")){let t=document.getElementById("colorPicker"),n=new i.Color(t.value);(0,l.modelGroups)[e].traverse(e=>{e.isMesh&&"Object_7"==e.name&&(e.children[0].color=n,console.log("found"),e.material.emissive.set(n))})}})(parseInt(document.getElementById("lightInstanceDropdown").value))}),document.getElementById("deleteLightButton").addEventListener("click",function(){(function(e){if((0,l.modelGroups)[e].name.startsWith("studio_light")){(0,l.scene).remove(l.modelGroups[e]),(0,l.modelGroups).splice(e,1),(0,l.boxHelpers).splice(e,1),(0,l.modelDragBoxes).splice(e,1);let t=(0,l.getKeyByValue)(l.indexMap,e);(0,l.draggableObjects).splice(t,1),(0,l.updateIndexMap)(t,e),(0,l.setSelectedIndex)(0),console.log(l.indexMap)}})(parseInt(document.getElementById("lightInstanceDropdown").value)),r()}),document.getElementById("addLightButton").addEventListener("click",function(){let e=parseInt(document.getElementById("lightInstanceDropdown").value);console.log(e),(0,l.setSelectedIndex)(e),console.log(l.selectedIndex),function(){let e;(e=(0,l.modelGroups)[0,l.selectedIndex].name.startsWith("studio_light")?l.modelGroups[l.selectedIndex]:(0,l.modelGroups).find(e=>e.name.startsWith("studio_light"))).rotation.set(0,0,0);let t=e.clone(!0);t.traverse(e=>{e.isMesh&&(e.material=e.material.clone())}),t.name="studio_light "+s++,t.position.set(1,0,-5),(0,l.scene).add(t);let n=new i.Box3().setFromObject(t),o=new i.Vector3;n.getSize(o);let r=new i.Mesh(new i.BoxGeometry(o.x,o.y,o.z),new i.MeshBasicMaterial({transparent:!0,opacity:0}));r.position.copy(t.position),r.userData.originalY=r.position.y+=o.y/2,(0,l.scene).add(r);let d=new i.BoxHelper(r,16776960);d.visible=!1,(0,l.scene).add(d),(0,l.modelGroups).push(t),(0,l.draggableObjects).push(r),(0,l.modelDragBoxes).push(r),(0,l.setIndexMap)(r),(0,l.boxHelpers).push(d),console.log(l.indexMap)}(),r()});let s=1;function r(){let e=document.getElementById("lightInstanceDropdown");e.innerHTML='<option value="">Select a Light Instance</option>',(0,l.modelGroups).forEach((t,n)=>{if(t.name.startsWith("studio_light")){let o=document.createElement("option");o.value=n,o.textContent=t.name,e.appendChild(o)}})}},{three:"35GVu","./scripts.js":"f5JPT","@parcel/transformer-js/src/esmodule-helpers.js":"k3151"}]},["7w0Le"],"7w0Le","parcelRequire6fcf");
//# sourceMappingURL=index.46392fd6.js.map
